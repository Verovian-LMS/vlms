{
  "name": "creator-signup-course-creation",
  "description": "Test creator account signup and complete course creation with modules and video lessons",
  "baseUrl": "http://localhost:8082",
  "timeout": 60000,
  "retries": 2,
  "tests": [
    {
      "name": "Navigate to signup page",
      "type": "navigation",
      "action": "goto",
      "target": "/signup",
      "assertions": [
        {
          "type": "url",
          "value": "/signup",
          "operator": "contains"
        },
        {
          "type": "element",
          "selector": "h1, h2",
          "value": "Sign Up",
          "operator": "contains"
        }
      ]
    },
    {
      "name": "Fill creator signup form",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='email'], input[type='email']",
          "value": "creator.test@testsprite.com"
        },
        {
          "selector": "input[name='password'], input[type='password']",
          "value": "TestPassword123!"
        },
        {
          "selector": "input[name='confirmPassword'], input[placeholder*='confirm']",
          "value": "TestPassword123!"
        },
        {
          "selector": "input[name='firstName'], input[placeholder*='first']",
          "value": "Test"
        },
        {
          "selector": "input[name='lastName'], input[placeholder*='last']",
          "value": "Creator"
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "input[name='email'], input[type='email']",
          "value": "creator.test@testsprite.com",
          "operator": "equals"
        }
      ]
    },
    {
      "name": "Select creator role",
      "type": "interaction",
      "action": "click",
      "target": "select[name='role'], input[value='instructor'], button[data-role='instructor'], [data-testid='role-instructor']",
      "fallback": [
        {
          "action": "click",
          "target": "label:has-text('Instructor')"
        },
        {
          "action": "click",
          "target": "label:has-text('Creator')"
        },
        {
          "action": "click",
          "target": "label:has-text('Teacher')"
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "select[name='role'], input[value='instructor']:checked, [data-role='instructor'].selected",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Submit signup form",
      "type": "interaction",
      "action": "click",
      "target": "button[type='submit'], button:has-text('Sign Up'), button:has-text('Create Account')",
      "wait": 3000,
      "assertions": [
        {
          "type": "url",
          "value": "/dashboard",
          "operator": "contains"
        }
      ]
    },
    {
      "name": "Navigate to course creation",
      "type": "navigation",
      "action": "goto",
      "target": "/course-upload",
      "fallback": [
        {
          "action": "click",
          "target": "a[href*='course'], button:has-text('Create Course'), a:has-text('New Course')"
        }
      ],
      "assertions": [
        {
          "type": "url",
          "value": "/course",
          "operator": "contains"
        },
        {
          "type": "element",
          "selector": "h1, h2",
          "value": "Create",
          "operator": "contains"
        }
      ]
    },
    {
      "name": "Fill course basic information",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='title'], input[placeholder*='title']",
          "value": "TestSprite Medical Course"
        },
        {
          "selector": "textarea[name='description'], textarea[placeholder*='description']",
          "value": "A comprehensive medical course created through TestSprite automation testing. This course covers essential medical concepts and practical applications."
        },
        {
          "selector": "select[name='category'], select[name='courseCategory']",
          "value": "Medical"
        },
        {
          "selector": "select[name='level'], select[name='difficulty']",
          "value": "Beginner"
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "input[name='title'], input[placeholder*='title']",
          "value": "TestSprite Medical Course",
          "operator": "equals"
        }
      ]
    },
    {
      "name": "Add course pricing",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='price'], input[type='number']",
          "value": "99.99"
        }
      ],
      "optional": true
    },
    {
      "name": "Proceed to course structure",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Next'), button:has-text('Continue'), button:has-text('Add Modules')",
      "wait": 2000,
      "assertions": [
        {
          "type": "element",
          "selector": "h2:has-text('Module'), h3:has-text('Module'), [data-testid*='module']",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Create first module",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='moduleTitle'], input[placeholder*='module'], input[name='title']",
          "value": "Module 1: Introduction to Medical Fundamentals"
        },
        {
          "selector": "textarea[name='moduleDescription'], textarea[placeholder*='module']",
          "value": "This module covers the basic principles and foundational concepts in medical science."
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "input[name='moduleTitle'], input[placeholder*='module'], input[name='title']",
          "value": "Module 1: Introduction to Medical Fundamentals",
          "operator": "equals"
        }
      ]
    },
    {
      "name": "Add first module",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Add Module'), button:has-text('Create Module'), button[type='submit']",
      "wait": 2000,
      "assertions": [
        {
          "type": "element",
          "selector": "[data-testid*='module-1'], .module-item, .module-card",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Create second module",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='moduleTitle'], input[placeholder*='module'], input[name='title']",
          "value": "Module 2: Advanced Medical Procedures"
        },
        {
          "selector": "textarea[name='moduleDescription'], textarea[placeholder*='module']",
          "value": "This module focuses on advanced medical procedures and clinical applications."
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "input[name='moduleTitle'], input[placeholder*='module'], input[name='title']",
          "value": "Module 2: Advanced Medical Procedures",
          "operator": "equals"
        }
      ]
    },
    {
      "name": "Add second module",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Add Module'), button:has-text('Create Module'), button[type='submit']",
      "wait": 2000,
      "assertions": [
        {
          "type": "element",
          "selector": "[data-testid*='module-2'], .module-item:nth-child(2)",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Navigate to add video lesson",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Add Lesson'), button:has-text('Add Video'), a:has-text('Video')",
      "fallback": [
        {
          "action": "click",
          "target": "[data-testid*='module-1'] button, .module-item:first-child button"
        }
      ],
      "wait": 2000,
      "assertions": [
        {
          "type": "element",
          "selector": "input[type='file'], [data-testid*='video'], h2:has-text('Video')",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Fill video lesson details",
      "type": "form",
      "action": "fill",
      "fields": [
        {
          "selector": "input[name='lessonTitle'], input[name='title'], input[placeholder*='lesson']",
          "value": "Lesson 1: Introduction to Anatomy"
        },
        {
          "selector": "textarea[name='lessonDescription'], textarea[name='description']",
          "value": "A comprehensive introduction to human anatomy covering basic structures and systems."
        },
        {
          "selector": "input[name='duration'], input[type='number']",
          "value": "45"
        }
      ],
      "assertions": [
        {
          "type": "element",
          "selector": "input[name='lessonTitle'], input[name='title'], input[placeholder*='lesson']",
          "value": "Lesson 1: Introduction to Anatomy",
          "operator": "equals"
        }
      ]
    },
    {
      "name": "Simulate video upload",
      "type": "interaction",
      "action": "upload",
      "target": "input[type='file'], [data-testid*='video-upload']",
      "file": {
        "name": "sample-medical-video.mp4",
        "type": "video/mp4",
        "size": 1024000,
        "simulate": true
      },
      "wait": 3000,
      "assertions": [
        {
          "type": "element",
          "selector": ".upload-success, .file-uploaded, [data-testid*='upload-complete']",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Save video lesson",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Save Lesson'), button:has-text('Add Lesson'), button[type='submit']",
      "wait": 3000,
      "assertions": [
        {
          "type": "element",
          "selector": ".lesson-item, [data-testid*='lesson'], .video-lesson",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Finalize course creation",
      "type": "interaction",
      "action": "click",
      "target": "button:has-text('Publish Course'), button:has-text('Save Course'), button:has-text('Complete')",
      "wait": 5000,
      "assertions": [
        {
          "type": "element",
          "selector": ".success-message, .course-created, [data-testid*='success']",
          "operator": "exists"
        }
      ]
    },
    {
      "name": "Verify course in dashboard",
      "type": "navigation",
      "action": "goto",
      "target": "/dashboard",
      "assertions": [
        {
          "type": "element",
          "selector": "[data-testid*='course'], .course-card, .course-item",
          "value": "TestSprite Medical Course",
          "operator": "contains"
        }
      ]
    }
  ],
  "cleanup": [
    {
      "name": "Cleanup test data",
      "type": "api",
      "method": "DELETE",
      "endpoint": "/api/v1/courses/cleanup-test",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "creator.test@testsprite.com"
      },
      "optional": true
    }
  ]
}